<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>JGum User Guide</title>

	<link rel="stylesheet" href="styles/sc-css/tutorial.css" />
    
     <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45393106-1', 'github.com');
  ga('send', 'pageview');
    </script>

	<script type="text/javascript" src="js/jquery-1.10.2.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/jquery.tableofcontents.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/ace-builds/src-noconflict/ace.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/sc-js/jquery.sc.tutorial.js" charset="utf-8"></script>
    
    <script type="text/javascript">//<![CDATA[
  (function ($) {
    $(document).ready(function(){
		
      $('#table_of_content_entries').tableOfContents('#content', {startLevel:2, depth: 3});
      $.prettifyCodeSnippets("eclipse");
      //$.prettifyCodeSnippets("solarized_light");
      $.configureFootnotes();

    })

  })(jQuery);

//]]></script>



</head>




<body>



<h1>JGum User Guide</h1>

<!--
WORK IN PROGRESS....
-->

<div id="table_of_content">
  <strong>Contents</strong>
  <ol id="table_of_content_entries"></ol>
</div>




<div id="content">

  <h2>Overview</h2> 
  
  Since ancient times, conceptual grouping is a natural human way to create abstract models of the world <sup> <a rel="footnote" href="#fn:aristo">1</a> </sup>.
  In computer science, the notion of categories plays a major role in computer programming <sup> <a rel="footnote" href="#fn:classes-vs-prototypes">2</a> </sup>.
  Particularly, different categorization mechanisms are often implicit in most programming languages (e.g., classes and packages).
  However, for statically-typed languages it is often not trivial (or not possible at all) to modify at runtime the properties of existing categories, or creating new categories on the fly.
  Furthermore, a programmer may intend to create or modify the properties of categories in a certain well-scoped context, isolating category properties, or the categories themselves, from the rest of the application.
  
  <p/>
  
  JGum is a Java library providing support for defining categories and their properties in a particular context.
  With JGum, a programmer can define and manage custom hierarchies of categories, or easily create categories based on existing Java categorization mechanisms, such as classes and packages.
  

  <h2>Having Fun with Categories (or a short introduction to <a href="http://logging.apache.org/log4j/1.2/" title="Apache log4j">log4j</a>)</h2>
  
  This section illustrates typical usage of custom categories in every day programming by means of reviewing common logging practices using a well known Java library.
  
  <h3>Named Hierarchies</h3>

  Popular logging libraries such as <a href="http://logging.apache.org/log4j/1.2/" title="Apache log4j">log4j</a> allow fine grained control on which kind of logging message (e.g., warning or error) should be processed at runtime.
  This control is enabled since programmers can easily categorize a <q>logging space</q> <sup> <a rel="footnote" href="#fn:apache-manual">3</a> </sup> according to some developer-chosen criteria.
  
  Loggers are organized hierarchically following a naming rule. For example, a logger named <code>org</code> is the parent of a logger named <code>org.jgum</code>, and the ancestor of a logger named <code>org.jgum.JGum</code>.
  If a logger property (e.g., a logging <code>level</code>) is not defined for a given logger, it should be resolved according to the corresponding property value of its parent.
  
  <p/>
  
  Loggers are typically defined by means of configuration files. The following fragment of a log4j configuration file configures a logger named <code>org.jgum</code> with the level <code>WARN</code>.
  
    <p><pre data-editor="properties" data-show-gutter="true">
# Set the logger level to warning for the org.jgum package
log4j.logger.org.jgum=WARN</pre></p>
  
  Although loggers can have any name, a common convention is to name them according to the fully qualified name of the class where they are used.
  For example, a logger named <code>"org.jgum.JGum"</code> can be instantiated with:
 
   <p><pre data-editor="properties" data-show-gutter="true">Logger jgumLogger = Logger.getLogger(org.jgum.JGum.class); //instantiates a logger named "org.jgum.JGum"</pre></p> 
   
   Since this logger is a descendant from the <code>"org.jgum"</code> logger defined in the configuration file, it inherits from its parent the <code>level</code> property, set to <code>WARN</code>. 
	This is illustrated by the figure below.
    

  <div class="divImg">
    <img src="img/log4j_packages.png" alt="Named category properties." style="padding-bottom:0.5em;" />
    <div>Fig 1. - Named category properties.</div>
  </div>


  For a detailed explanation on the semantic meaning of logger properties please refer to the <a href="http://logging.apache.org/log4j/1.2/manual.html">log4j manual</a>.
	
  <p/>
  This section has illustrated how a popular logging library uses name hierarchies to create a categorization of loggers.
  The core idea of a name based categorization is to infer hierarchical relationships between labeled categories based on a given naming convention.
  As we will se soon, JGum provides high level support for dealing with this categorization pattern.
   
  The following section motivates another kind of categorization based on the existing type hierarchies of a programming language.
    
    
  <h3>Type Hierarchies</h3>
  
  Back to our logging example, this section describes how log4j render objects in logging messages.
  Since generating readable messages is a core objective of logging, log4j allows to associate custom renderers to certain classes.
  The renderers are responsible to convert a given object to a convenient string representation for logging.
  
  <p/>
  
  Quoting the <a href="http://logging.apache.org/log4j/1.2/manual.html">log4j manual</a>:
  <q>Object rendering follows the class hierarchy. For example, assuming oranges are fruits, if you register a <code>FruitRenderer</code>, all fruits including oranges will be rendered by the <code>FruitRenderer</code>, unless of course you registered an orange specific OrangeRenderer </q>.

  Then, we would like to associate a property (a renderer) to the category identified by the <code>Fruit</code> class. However, in this case we require a different categorization heuristic: instead of categorizing a class according to its fully qualified name, we want to do it according to its location in a class hierarchy. This categorization is illustrated by the figure below.


  <div class="divImg">
    <img src="img/log4j_classes.png" alt="Type category properties." style="padding-bottom:0.5em;" />
    <div>Fig 2. - Type category properties.</div>
  </div>


  Therefore, this categorization is based on an existing categorization already provided by the language (a hierarchy of classes). 
  
  <p/>
  This section has showed how log4j relies on the existing type hierarchy of the language to create a categorization of renderers.
  As in the previous categorization based on name hierarchies, JGum factorizes out this categorization pattern as a general mechanism to associate properties to classes and interfaces based on their position on a class hierarchy.
  As before, JGum allows to add and manipulate new properties (i.e., not existing in the original type categorization provided by the language) in the scope of a certain context.
  
  

  <h2>The JGum Context</h2>
  
  JGum allows to create and maintain categorizations associated with a context.
  A new JGum context can be instantiated as follows:

  <p><pre data-editor="java" data-show-gutter="true">
JGum jgum = new JGum();</pre></p>

  This context allows to register new categorizations and retrieve them later by name, like in the example below:

    <p><pre data-editor="java" data-show-gutter="true">
Categorization&lt;CategoryClass&gt; myCategorization = ...;
jgum.register("my-categorization", myCategorization); //registering a categorization under the identifier "my-categorization"
jgum.getCategorization("my-categorization"); //retrieving the categorization identified by "my-categorization"</pre></p>

  <p>The next section describes how to create and manipulate named and type categorizations.</p>


  <h2>JGum Categories</h2> 
  
  The notion of category is a core aspect of the JGum implementation.
  A JGum category is defined by a group of properties shared by the objects belonging to such category.
  Categories can also be defined in terms of other categories, in which case they inherit the properties of their ancestor categories.
  Therefore, categories defines parents-children relationships with other categories.
  
  <p>JGum categories may be associated with an identifying label. 
  According to the chosen categorization, this label may determine the position of the category in the hierarchy, or just serve as a human aid for facilitating reasoning over a category and its instances  <sup> <a rel="footnote" href="#fn:categories-matter">4</a> </sup>.
  </p>
  
  <p>
  In addition to offer a framework for creating and maintaining custom hierarchies of categories, JGum provides special classes and routines for dealing with two common categorization mechanisms.
  The rest of this section overviews tje JGum support for named and type categorizations.
  </p>
  
  
  <h3>Named categorizations</h3>


  As seen 
  Named categories are a well known powerful categorization mechanism and, a
  
JGum abstract it as a general mechanism to associate properties to packages, classes (by means of their fully qualified name) or any artifact following a similar hierarchical naming convention.

  <h3>Type categorizations</h3>




  <h2>Miscelaneous Features</h2>

  <h3>Iterating on property values in a categorization</h3>
  
  <h3>Category creation listeners</h3>

  <h2>Limitations and Future Work</h2>
  
  <p>
  JGum type categories currently do not take into account existing properties (attributes and methods) of the wrapped classes that define a type categorization.
  Instead, existing classes are just considered category identifiers.
  This is because the use cases that motivated the implementation of JGum did not require such features. However, this may change on the future.
  </p>
  
  <p>
  A potential performance issue may occur in scenarios with many categories deep in a hierarchy, with few of those categories actually containing properties.
  For single inheritance hierarchies, this may be easily solved with categories containing references not only to its parent category,
  but to the next ancestor actually containing a property. This will make the query of properties more efficient despite a small overhead in the addition of new properties.
  However, this algorithm does not seem trivial to implement in multi-inheritance hierarchies, taking into consideration the different linearization strategies supported by JGum.
  
  </p>
  
  <h2>Conclusions</h2>

  Although JGum can be extended to support other user-defined categorizations, this topic has been left out of the scope of this tutorial.

  <h2>License</h2>

  JGum is open source, distributed under the terms of this <a href="https://github.com/jgum/jgum/blob/master/LICENSE.txt" title="License">license</a>.

  <h2>Contact</h2>
  
  Constructive feedback and criticism, questions or a wish list can be sent to <em>[uclouvain.be (that symbol for emails) sergio.castro]</em> (inversing the order).
  Or just write me a line if you want to say hello ! :-)
  
</div> <!-- end of content -->

    
    
<div id="footnotes">
  <hr />
  
  <h3>Footnotes</h3>
  
  <ol>
  
  <li id="fn:aristo">
  	The complete works of Aristotle. Barnes, J. (ed). Volume 1. (the revised Oxford translation), Princeton University Press. 1984.
  </li>
  
  <li id="fn:classes-vs-prototypes">
  	Classes vs. Prototypes - Some Philosophical and Historical Observations. Antero Taivalsaari. Journal of Object-Oriented Programming. 1996.
  </li>
  
  <li id="fn:apache-manual">
  	<a href="http://logging.apache.org/log4j/1.2/manual.html">Short introduction to log4j.</a>  Ceki Gülcü, March 2002.
  </li>
  
  <li id="fn:categories-matter">
  	The conceptual grouping effect: Categories matter (and named categories matter more). Gary Lupyan. Cognition, Vol. 108, No. 2. August 2008.
  </li>

  </ol>
</div> <!-- end of footnotes -->

</body>
</html>
